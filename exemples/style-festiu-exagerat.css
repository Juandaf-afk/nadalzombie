:root{
  --max: 1160px;
  --txt: #073b4c;
  --muted:#255f6f;
  --card: rgba(255,255,255,0.92);
  --ring: #dcfce7;
  --accent:#ef4444;
  --accent2:#22c55e;
  --shadow: 0 30px 60px rgba(0,0,0,.15);
  --radius: 18px;
}
*{box-sizing:border-box}
html{scroll-behavior:smooth}
body{
  margin:0;
  font: 17px/1.65 'Segoe UI', Roboto, system-ui, -apple-system;
  color: var(--txt);
  background: url('img/bg-festiu.svg') center/cover fixed no-repeat, linear-gradient(#b3e5fc, #f0fff4);
  overflow-x:hidden;
}

/* parallax layers */
body::before, body::after{
  content:''; position:fixed; inset:0; pointer-events:none;
}
body::before{
  background: url('img/overlay-flocs.svg') repeat;
  background-size: 400px 400px;
  mix-blend-mode: screen;
  animation: caiguada 30s linear infinite;
  opacity:.6;
}
body::after{
  background: radial-gradient(circle at 10% 0%, rgba(255,255,255,.6), transparent 40%),
              radial-gradient(circle at 90% -10%, rgba(255,255,255,.35), transparent 45%);
  animation: pols 18s ease-in-out infinite alternate;
  opacity:.7;
}
@keyframes caiguada{
  from{transform: translateY(-10%);}
  to{transform: translateY(10%);}
}
@keyframes pols{
  from{transform: translateY(0)}
  to{transform: translateY(2%)}
}

.site-header{
  position:sticky; top:0; z-index:50;
  backdrop-filter: blur(10px) saturate(140%);
  background: rgba(255,255,255,.75);
  box-shadow: var(--shadow);
  border-bottom: 2px solid #e0f2fe;
}
.brand{max-width:var(--max); margin:auto; padding:1rem 1.25rem}
.brand h1{margin:0; font-weight:900; font-size: clamp(2rem, 4vw, 3.2rem)}
.brand .mark{color:var(--accent)}
.tagline{margin:.25rem 0 0; color:var(--muted)}

.main-nav ul{
  display:flex; flex-wrap:wrap; gap:.5rem .75rem; list-style:none; margin:0;
  padding: .25rem 1rem 1rem;
  max-width:var(--max); margin-inline:auto;
}
.main-nav a{
  text-decoration:none; color:#05303a; background:linear-gradient(145deg,#e3ffe7,#d9e7ff);
  padding:.6rem .9rem; border-radius:999px; border:1px solid #a7f3d0;
  box-shadow: 0 6px 14px rgba(0,0,0,.08);
}
.main-nav a:hover{ transform: translateY(-2px) scale(1.02) }

.layout{max-width:var(--max); margin:2rem auto; display:grid; grid-template-columns: 1fr minmax(280px, 360px); gap:2rem; padding:0 1rem}
@media (max-width: 980px){ .layout{grid-template-columns: 1fr} }

.content section{
  background: var(--card);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 1.25rem 1.35rem;
  backdrop-filter: blur(4px);
  border: 1px solid rgba(255,255,255,.7);
}
.content h2{margin-top:0; font-size: clamp(1.4rem,2.6vw,2rem)}
.content h3{text-transform: none; margin-top:1rem}

.mapa{
  height: 260px;
  display:grid; place-items:center;
  border-radius: 14px;
  border: 2px dashed #93c5fd;
  background:
    linear-gradient(45deg, rgba(255,255,255,.6) 25%, transparent 25%) 0 0 / 22px 22px,
    linear-gradient(-45deg, rgba(255,255,255,.6) 25%, transparent 25%) 0 0 / 22px 22px,
    linear-gradient(#fefce8,#ecfeff);
  color:#425a70;
}

.sidebar{
  position: sticky; top: 6.5rem; align-self:start;
  background: linear-gradient(180deg, rgba(255,255,255,.92), rgba(255,255,255,.88));
  padding: 1rem 1.2rem; border-radius: var(--radius); box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,.8);
}
.sidebar h2{margin-top:.35rem}

table{width:100%; border-collapse:separate; border-spacing:0; overflow:hidden; border-radius: 14px}
thead th{background:#e2f2ff; text-align:left; padding:.7rem .85rem; color:#093548}
tbody td, tbody th{padding:.6rem .85rem; border-top: 1px solid #e8eef5}
caption{caption-side:bottom; color:#255f6f; padding:.5rem .2rem}

blockquote{
  margin:1rem 0; padding:1.1rem 1.25rem;
  background: linear-gradient(135deg,#fff7ed,#ffffff);
  border-left: 8px solid var(--accent2);
  border-radius: 0 14px 14px 0;
}
mark{background: linear-gradient(90deg,#fde68a,#fef3c7); padding:.05em .3em; border-radius:.35em}
details{border:1px solid #dbeafe; border-radius: 14px; padding:.8rem 1rem; background:#ffffff}
details+details{margin-top:.9rem}

.site-footer{text-align:center; color:#255f6f; margin:3rem auto 2rem; text-shadow: 0 1px 0 #fff}

/* mega-encapçalat amb ombra */
.brand h1{
  text-shadow: 0 10px 30px rgba(0,0,0,.15);
}

/* focus accessible i vistós */
:focus-visible{outline: 3px solid #34d399; outline-offset: 3px}
